---
import Layout from '../layouts/Layout.astro';
import SEO from '../components/SEO.astro';
---

<Layout>
  <SEO
    slot="head"
    title="Free Personal Development Newsletter - TimeOS System Included | Modern Compass"
    description="Get monthly insights for personal growth, free TimeOS time management system, and access to Impulse Wallet accountability app. Join 100+ subscribers finding direction in life. No spam, unsubscribe anytime."
    canonical="https://themoderncompass.io/newsletter"
    keywords="personal development newsletter, monthly self improvement newsletter, free time management system, life direction coaching, accountability app, personal growth email"
  />
  <!-- Hero Section with Purple Gradient Box -->
  <section class="newsletter-hero-new">
    <div class="hero-container-new">
      <div class="hero-box">
        <div class="brand-title">Modern Compass Newsletter</div>

        <h1 class="main-headline">You can't know where you're going, if you don't know where you are.</h1>

        <p class="main-description">
          You thought you'd be further along by now. Modern Compass reveals exactly where you stand across Self, Trust, Character, and Relationships so you can stop drifting and start building the life you want.
        </p>

        <div class="built-for">
          <span class="built-for-label">Built for</span>
          <span class="arrow">→</span>
          <span class="cycling-text" id="cyclingText"></span>
          <span class="cursor">|</span>
        </div>

        <div class="bonus-with-image">
          <div class="bonus-image desktop-only">
            <a href="#" class="preview-trigger" title="Click to view full Break the Loop PDF preview">
              <img src="/break-the-loop.png" alt="Break the Loop PDF guide preview" />
            </a>
          </div>
          <div class="bonus-content">
            <div class="signup-bonuses">
              <p><strong>Subscribe and get "Break the Loop"</strong></p>
              <p class="bonus-description">A PDF to identify where you're stuck and take your first visible move in under 10 minutes.</p>
              <a href="#" class="mobile-preview-link preview-trigger">Preview the guide →</a>
            </div>

            <!-- Subscribe Form -->
            <div class="newsletter-embed-new" style="text-align: center;">
              <iframe
                id="beehiiv-subscribe-form"
                src="https://subscribe-forms.beehiiv.com/261a3276-40ab-431a-8523-c85bec095b96"
                frameborder="0"
                scrolling="yes"
                style="width: 100%; max-width: 500px; height: 180px; border: none; border-radius: 8px; background-color: transparent; margin: 0 auto; display: inline-block;"
                title="Subscribe to Modern Compass on Beehiiv"
              ></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Image Modal -->
  <div id="imageModal" class="modal">
    <span class="modal-close">&times;</span>
    <img class="modal-content" src="/break-the-loop.png" alt="Break the Loop PDF guide full preview">
  </div>


  <!-- FAQ Section for SEO and Conversion -->
  <section class="newsletter-faq">
    <h2>Frequently Asked Questions</h2>

    <div class="faq-grid">
      <div class="faq-item">
        <h3>What is the Modern Compass newsletter?</h3>
        <p>The Modern Compass newsletter is personal growth that simplifies the complex and moves you forward. Every 3rd Friday, you get one insight I'm working through, one tool that helps, and one action you can take in Self, Trust, Character, or Relationships. Each issue cuts through the noise to help you take meaningful steps forward.</p>
      </div>

      <div class="faq-item">
        <h3>How often will I receive emails?</h3>
        <p>Once a month, every 3rd Friday. No daily spam, no inbox overwhelm—just one purpose-filled email with depth and room to take action.</p>
      </div>

      <div class="faq-item">
        <h3>What is "Break the Loop"?</h3>
        <p>Break the Loop is a PDF guide you receive immediately after subscribing. It helps you identify where you're stuck, what's dragging you in, determine micro actions you can take, and make your first visible move public in under 10 minutes. It's designed to get you unstuck and moving forward quickly.</p>
      </div>

      <div class="faq-item">
        <h3>What is the TimeOS digital asset?</h3>
        <p>TimeOS is a 5-step time audit system that helps you identify where your hours are going and redirect them toward what matters most. It's a simple, actionable framework to reclaim wasted time. Available as a bonus Modern Tool for subscribers.</p>
      </div>

      <div class="faq-item">
        <h3>What is Impulse Wallet?</h3>
        <p>Impulse Wallet is a gamified accountability app that uses a simple "$1 up/down" virtual wallet system to track positive and negative choices. It features anonymous accounts, accountability rooms, weekly resets, and a 15-minute undo grace period. Subscribers get early access.</p>
      </div>

      <div class="faq-item">
        <h3>Is the newsletter really free?</h3>
        <p>Yes, completely free. You'll get the newsletter, Break the Loop PDF, and access to Modern Tools like TimeOS and Impulse Wallet at no cost. Unsubscribe anytime with one click. No credit card required.</p>
      </div>

      <div class="faq-item">
        <h3>Who is Modern Compass for?</h3>
        <p>Anyone feeling stuck, lost, or searching for direction in life. Whether you're navigating a life transition, a professional seeking clarity, or someone wanting intentional personal growth, Modern Compass provides the framework and tools to move forward.</p>
      </div>
    </div>
  </section>

  <!-- Newsletter Subscription Schema -->
  <script type="application/ld+json" is:inline>
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Modern Compass Newsletter Signup",
    "description": "Personal growth newsletter that simplifies the complex and moves you forward - get Break the Loop PDF free",
    "url": "https://themoderncompass.io/newsletter",
    "mainEntity": {
      "@type": "ItemList",
      "itemListElement": [
        {
          "@type": "Question",
          "name": "What is the Modern Compass newsletter?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The Modern Compass newsletter is personal growth that simplifies the complex and moves you forward. Every 3rd Friday, you get one insight I'm working through, one tool that helps, and one action you can take in Self, Trust, Character, or Relationships. Each issue cuts through the noise to help you take meaningful steps forward."
          }
        },
        {
          "@type": "Question",
          "name": "How often will I receive emails?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Once a month, every 3rd Friday. No daily spam, no inbox overwhelm—just one purpose-filled email with depth and room to take action."
          }
        },
        {
          "@type": "Question",
          "name": "What is Break the Loop?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Break the Loop is a PDF guide you receive immediately after subscribing. It helps you identify where you're stuck, what's dragging you in, determine micro actions you can take, and make your first visible move public in under 10 minutes. It's designed to get you unstuck and moving forward quickly."
          }
        },
        {
          "@type": "Question",
          "name": "Is the newsletter really free?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, completely free. You'll get the newsletter, Break the Loop PDF, and access to Modern Tools like TimeOS and Impulse Wallet at no cost. Unsubscribe anytime with one click. No credit card required."
          }
        }
      ]
    }
  }
  </script>

</Layout>

<style>
  /* New Hero Section Styles */
  .newsletter-hero-new {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 3rem 1.5rem;
    margin: -1rem -1rem 2rem -1rem;
    border-radius: 20px;
  }

  .hero-container-new {
    max-width: 700px;
    margin: 0 auto;
  }

  .hero-box {
    background: rgba(255, 255, 255, 0.98);
    border-radius: 16px;
    padding: 2.5rem 2rem;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  }

  .brand-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: #667eea;
    margin-bottom: 1.5rem;
    text-align: center;
  }

  .main-headline {
    font-size: 2.2rem;
    font-weight: 700;
    color: #1a1a1a;
    line-height: 1.2;
    margin-bottom: 1.5rem;
    text-align: center;
  }

  .main-headline .highlight {
    color: #667eea;
  }

  .main-description {
    font-size: 1.2rem;
    color: #4a5568;
    line-height: 1.6;
    margin-bottom: 1.5rem;
    text-align: center;
  }

  .main-description strong {
    color: #1a1a1a;
    font-weight: 600;
  }

  .built-for {
    text-align: center;
    margin: 2rem 0 1.5rem 0;
    font-size: 1.5rem;
    color: #1a1a1a;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    flex-wrap: nowrap;
  }

  .built-for-label {
    font-weight: 600;
    color: #667eea;
    white-space: nowrap;
  }

  .arrow {
    color: #667eea;
    font-weight: 600;
    font-size: 1.3rem;
  }

  .cycling-text {
    font-weight: 600;
    color: #1a1a1a;
    display: inline-block;
    min-width: 300px;
    text-align: left;
    white-space: nowrap;
  }

  .cursor {
    color: #667eea;
    font-weight: 400;
    animation: blink 1s step-end infinite;
    margin-left: -0.1rem;
  }

  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  .value-statement {
    background: #f7fafc;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
  }

  .value-statement p {
    font-size: 1rem;
    color: #2d3748;
    line-height: 1.7;
    margin: 0;
  }

  .signup-bonuses {
    background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 100%);
    border: 1px solid #b3e5fc;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
  }

  .signup-bonuses p {
    margin-bottom: 0.5rem;
    color: #1e40af;
    font-weight: 600;
  }

  .signup-bonuses .bonus-description {
    font-size: 0.95rem;
    color: #1e40af;
    line-height: 1.5;
    margin-bottom: 0;
    font-weight: 500;
  }

  .social-proof-text {
    text-align: center;
    margin-bottom: 1.5rem;
  }

  .social-proof-text p {
    font-size: 1rem;
    color: #4a5568;
    margin: 0;
  }

  .highlight-purple {
    color: #667eea;
    font-weight: 700;
  }

  .newsletter-embed-new {
    margin-bottom: 0.5rem;
  }

  .bonus-with-image {
    display: flex;
    gap: 2rem;
    align-items: flex-start;
    margin-top: 1.5rem;
  }

  .bonus-image {
    flex-shrink: 0;
  }

  .bonus-image a {
    display: block;
    transition: transform 0.2s ease;
  }

  .bonus-image a:hover {
    transform: scale(1.05);
  }

  .bonus-image img {
    width: 200px;
    height: auto;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    cursor: pointer;
  }

  .bonus-content {
    flex: 1;
  }

  .mobile-preview-link {
    display: none;
    color: #667eea;
    font-weight: 600;
    text-decoration: none;
    font-size: 0.9rem;
    margin-top: 0.5rem;
  }

  .mobile-preview-link:hover {
    text-decoration: underline;
  }

  .desktop-only {
    display: block;
  }

  /* Image Modal */
  .modal {
    display: none;
    position: fixed;
    z-index: 9999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.9);
  }

  .modal-content {
    margin: auto;
    display: block;
    max-width: 90%;
    max-height: 90%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border-radius: 8px;
  }

  .modal-close {
    position: absolute;
    top: 20px;
    right: 35px;
    color: #f1f1f1;
    font-size: 40px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
    z-index: 10000;
  }

  .modal-close:hover,
  .modal-close:focus {
    color: #bbb;
  }

  /* Mobile Responsive */
  @media (max-width: 767px) {
    .newsletter-hero-new {
      padding: 1rem 0.75rem;
      margin: -0.5rem -1rem 1rem -1rem;
    }

    .hero-box {
      padding: 1rem 1rem;
    }

    .brand-title {
      font-size: 1rem;
      margin-bottom: 0.75rem;
    }

    .main-headline {
      font-size: 1.4rem;
      margin-bottom: 0.75rem;
      line-height: 1.1;
    }

    .main-description {
      font-size: 0.9rem;
      margin-bottom: 0.75rem;
    }

    .built-for {
      font-size: 1rem;
      margin: 1.5rem 0 1rem 0;
      flex-wrap: wrap;
      gap: 0.25rem;
    }

    .arrow {
      font-size: 1.1rem;
    }

    .cycling-text {
      min-width: 200px;
      text-align: left;
    }

    .value-statement {
      padding: 0.75rem;
      margin-bottom: 1rem;
    }

    .value-statement p {
      font-size: 0.85rem;
    }

    .signup-bonuses {
      padding: 0.5rem 0.75rem;
      margin-bottom: 1rem;
    }

    .signup-bonuses p {
      font-size: 0.85rem;
      margin-bottom: 0.25rem;
    }

    .signup-bonuses .bonus-description {
      font-size: 0.8rem;
    }

    .social-proof-text {
      margin-bottom: 1rem;
    }

    .social-proof-text p {
      font-size: 0.9rem;
    }

    .newsletter-embed-new {
      margin-bottom: 0.25rem;
    }

    .bonus-with-image {
      flex-direction: column;
      gap: 1rem;
      text-align: center;
    }

    .desktop-only {
      display: none;
    }

    .mobile-preview-link {
      display: inline-block;
    }
  }

  /* FAQ Section Styles */
  .newsletter-faq {
    max-width: 900px;
    margin: 3rem auto 2rem;
    padding: 2rem 1.5rem;
    background: #f9fafb;
    border-radius: 16px;
  }

  .newsletter-faq h2 {
    font-size: 2rem;
    color: #111827;
    margin-bottom: 2rem;
    text-align: center;
  }

  .faq-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
  }

  .faq-item {
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
  }

  .faq-item h3 {
    font-size: 1.2rem;
    color: #667eea;
    margin-bottom: 0.75rem;
    font-weight: 600;
  }

  .faq-item p {
    font-size: 1rem;
    color: #4a5568;
    line-height: 1.6;
    margin: 0;
  }

  @media (max-width: 767px) {
    .newsletter-faq {
      padding: 1.5rem 1rem;
      margin: 2rem auto 1rem;
    }

    .newsletter-faq h2 {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .faq-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .faq-item {
      padding: 1rem;
    }

    .faq-item h3 {
      font-size: 1.1rem;
    }

    .faq-item p {
      font-size: 0.95rem;
    }
  }
</style>

<script is:inline>
  // Add class to body for custom styling
  document.body.classList.add('newsletter-page');

  // Meta Pixel Conversion Tracking for Newsletter Signups
  window.addEventListener('message', function(event) {
    // Listen for Beehiiv form submission success
    if (event.data && typeof event.data === 'string' && event.data.includes('beehiiv')) {
      // Fire Meta Pixel Lead conversion
      if (typeof fbq !== 'undefined') {
        fbq('track', 'Lead', {
          content_name: 'Newsletter Signup',
          content_category: 'Newsletter',
          value: 5.00,
          currency: 'USD'
        });
        console.log('Meta Pixel: Lead conversion tracked');
      }

      // Fire Google Analytics conversion
      if (typeof gtag !== 'undefined') {
        gtag('event', 'generate_lead', {
          event_category: 'Newsletter',
          event_label: 'Newsletter Signup',
          value: 5.00
        });
        console.log('GA4: Lead conversion tracked');
      }
    }
  });

  // Typewriter animation for "Built for:" section
  document.addEventListener('DOMContentLoaded', function() {
    const personas = [
      'Lost twenty-somethings',
      'Wandering thirty-somethings',
      'Searching forty-somethings',
      'Framework seekers',
      'Assessment believers',
      'Patient builders',
      'Anti-quick-hack thinkers'
    ];

    const cyclingTextElement = document.getElementById('cyclingText');
    let currentIndex = 0;
    let isDeleting = false;
    let currentText = '';
    let charIndex = 0;

    function type() {
      const fullText = personas[currentIndex];

      if (isDeleting) {
        // Erase text
        currentText = fullText.substring(0, charIndex - 1);
        charIndex--;
      } else {
        // Type text
        currentText = fullText.substring(0, charIndex + 1);
        charIndex++;
      }

      cyclingTextElement.textContent = currentText;

      let typeSpeed = isDeleting ? 30 : 60; // Faster erasing, slower typing

      if (!isDeleting && charIndex === fullText.length) {
        // Finished typing, wait before erasing
        typeSpeed = 2000;
        isDeleting = true;
      } else if (isDeleting && charIndex === 0) {
        // Finished erasing, move to next word
        isDeleting = false;
        currentIndex = (currentIndex + 1) % personas.length;
        typeSpeed = 500; // Brief pause before typing next word
      }

      setTimeout(type, typeSpeed);
    }

    // Start the animation
    type();
  });

  // Image Modal functionality
  document.addEventListener('DOMContentLoaded', function() {
    const modal = document.getElementById('imageModal');
    const triggers = document.querySelectorAll('.preview-trigger');
    const closeBtn = document.querySelector('.modal-close');

    triggers.forEach(trigger => {
      trigger.addEventListener('click', function(e) {
        e.preventDefault();
        modal.style.display = 'block';
      });
    });

    closeBtn.addEventListener('click', function() {
      modal.style.display = 'none';
    });

    window.addEventListener('click', function(e) {
      if (e.target === modal) {
        modal.style.display = 'none';
      }
    });

    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && modal.style.display === 'block') {
        modal.style.display = 'none';
      }
    });
  });
</script>
</Layout>